# Diploma DevOps Project

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π DevOps-–ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–≤—ã–∫–æ–≤ CI/CD, IaC –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.  
–†–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

- **CI/CD**: Jenkins (Multibranch Pipeline).
- **IaC**: Terraform + Ansible.
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose, DockerHub.
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus + Grafana + Node Exporter + cAdvisor.
- **–û–±–ª–∞—á–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: AWS EC2.

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Maven App)**  
  –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Java (Maven), –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –≤ Docker-–æ–±—Ä–∞–∑.

- **Terraform**  
  –°–æ–∑–¥–∞—ë—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ AWS:
  - VPC, Subnet, Internet Gateway.
  - EC2-–∏–Ω—Å—Ç–∞–Ω—Å (Ubuntu 22.04).
  - Security Group —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ –ø–æ—Ä—Ç–∞–º:
    - `22` (SSH),
    - `8080` (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ),
    - `9090` (Prometheus),
    - `3000` (Grafana).

- **Ansible**  
  –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–∞:
  - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker –∏ Docker Compose plugin.
  - –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `docker-compose.yml`.
  - –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana, Node Exporter, cAdvisor).

- **Jenkins**  
  Multibranch Pipeline:
  - **–õ—é–±–∞—è –≤–µ—Ç–∫–∞ / Pull Request**: –ª–∏–Ω—Ç–µ—Ä, —Å–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç—ã.
  - **main (–ø–æ—Å–ª–µ merge)**: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –±–∏–ª–¥ Docker-–æ–±—Ä–∞–∑–∞, push –≤ DockerHub –∏ –¥–µ–ø–ª–æ–π –Ω–∞ EC2.

- **Prometheus & Grafana**  
  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Ansible, –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ provisioning:
  - Datasource Prometheus.
  - –ê–≤—Ç–æ–∏–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (CPU, RAM, FS, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã).

---

## üöÄ CI/CD Pipeline (Jenkins)

### –õ–æ–≥–∏–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞

- **Pull Request (draft-branch ‚Üí main)**:
  - –õ–∏–Ω—Ç–µ—Ä (checkstyle).
  - –°–±–æ—Ä–∫–∞ (Maven package).
  - –¢–µ—Å—Ç—ã (Maven test).
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å—Ç–∞—Ç—É—Å—ã –≤ GitHub PR.

- **Merge –≤ main**:
  - –í—Å—ë –≤—ã—à–µ.
  - Docker Buildx (multi-arch) –∏ push –≤ DockerHub:
    - –¢–µ–≥–∏: `<branch>-<short_sha>`, `<build_number>`, `latest`.
  - –î–µ–ø–ª–æ–π –Ω–∞ EC2 —á–µ—Ä–µ–∑ Ansible:
    - –ó–∞–º–µ–Ω–∞ `docker-compose.yml`.
    - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    - –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

### Jenkinsfile (–∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã)

- –õ–∏–Ω—Ç–µ—Ä, Build, Test –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ç–æ–∫.
- Docker Push + Deploy —Ç–æ–ª—å–∫–æ –¥–ª—è `main` –∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ **–Ω–µ PR**.
- Jenkins –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ GitHub Webhook.
---